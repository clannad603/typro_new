# 浅入理解Java虚拟机(雾

## 什么是JVM？

JVM 全称为Java Virtual  Machine ,JAVA程序的**运行环境**（JAVA二进制字节码的运行环境）

## JVM带来的好处

- 一次编写，到处运行

- 自动内存管理

- 数组下标越界检查

## 常见的JVM

<img src="D:\桌面\20200914100723848.png" style="zoom:33%;" />

## JVM JRE JDK的区别

<img src="D:\桌面\525d84b7d526290a7c88900636ed1033.png" style="zoom: 33%;" />

## JVM 的结构

<img src="D:\桌面\8d1de13006ae9e0dd40d5e1db98a81c81603447597022.png" style="zoom: 33%;" />

由此图可以得知：

JVM的结构分为以下内容：类加载器（ClassLoader）、执行引擎、内存区（运行时数据区）、本地方法接口。

其中内存区包括：虚拟机栈，本地方法栈，方法区，堆，程序计数器

### 程序计数器：

Program Counter Register

#### 作用：

程序计数器是一块较小的内存空间，可以看作是当前线程所执行的字节码的行号指示器。（概念模型中：字节码解释器工作时就是通过改变这个计数器的值来选取下一条需要执行的字节码指令）

#### 特点：

- **线程私有**：

多线程是通过线程轮流切换并分配处理器执行时间的方式实现的。**为了线程切换后能恢复到正确的执行位置，每条线程都需要有一个独立的程序计数器**，各条线程之间计数器互不影响，独立存储。

- **状态**：

①执行java方法，计数器记录虚拟机字节码指令的地址；②执行**native方法，计数器为空（undefined）**

- **占用内存小，唯一不会OutOfMemoryError的区域**

因为其本质上是寄存器来着

